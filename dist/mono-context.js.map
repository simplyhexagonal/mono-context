{
  "version": 3,
  "sources": ["../src/index.ts"],
  "sourcesContent": ["export interface MonoContextState {\n  counts: {[k: string]: number},\n  stateCreatedAt: Date,\n  stateUpdatedAt: Date,\n  [k: string]: any,\n}\n\nexport default class MonoContext {\n  private static instance: MonoContext;\n\n  private static _stateCreatedAt: Date = new Date();\n  private static _stateUpdatedAt: Date = new Date();\n  private static _counts: {[k: string]: number} = {};\n\n  static _warningMessage = 'WARNING: refusing to override \"PROPERTY\" property in MonoContext state';\n  \n  static _state: {[k: string]: any} = {};\n\n  static count = (key: string): number => {\n    if (!MonoContext._counts[key]) {\n      MonoContext._counts[key] = 0;\n    }\n\n    MonoContext._counts[key] += 1;\n\n    return MonoContext._counts[key];\n  };\n\n  static getCount = (key: string): number => MonoContext._counts[key] || 0;\n\n  static setState = <T extends MonoContextState>(newState: Partial<T>) => {\n    if (Object.keys(newState).includes('stateCreatedAt')) {\n      console.log(MonoContext._warningMessage.replace('PROPERTY', 'stateCreatedAt'));\n    }\n\n    if (Object.keys(newState).includes('stateUpdatedAt')) {\n      console.log(MonoContext._warningMessage.replace('PROPERTY', 'stateUpdatedAt'));\n    }\n\n    if (Object.keys(newState).includes('counts')) {\n      console.log(MonoContext._warningMessage.replace('PROPERTY', 'counts'));\n    }\n\n    const {\n      counts,\n      stateCreatedAt,\n      stateUpdatedAt,\n      ...safeNewState\n    } = newState;\n\n    if (Object.keys(safeNewState).length > 0) {\n      MonoContext._state = {\n        ...MonoContext._state,\n        ...safeNewState,\n      } as T;\n\n      MonoContext._stateUpdatedAt = new Date();\n    }\n\n    return MonoContext.getState();\n  };\n\n  static getState = <T extends MonoContextState>() => {\n    return MonoContext._state = {\n      ...MonoContext._state,\n      counts: { ...MonoContext._counts },\n      stateCreatedAt: MonoContext._stateCreatedAt,\n      stateUpdatedAt: MonoContext._stateUpdatedAt,\n    } as T;\n  };\n\n  count = MonoContext.count;\n  setState = MonoContext.setState;\n  getState = MonoContext.getState;\n  getCount = MonoContext.getCount;\n\n  constructor(warningOff: boolean = false) {\n    if (!warningOff) {\n      console.log(\n        'WARNING: instantiating MonoContext is unnecessary, all methods are statically defined'\n      );\n    }\n\n    if (!MonoContext.instance) {\n      MonoContext.instance = this;\n      return this;\n    }\n\n    return MonoContext.instance;\n  }\n}\n"],
  "mappings": ";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAAA;AAAA;AAAA;AAAA;AAOA,2BAAiC;AAAA,IAqE/B,YAAY,aAAsB,OAAO;AALzC,mBAAQ,aAAY;AACpB,sBAAW,aAAY;AACvB,sBAAW,aAAY;AACvB,sBAAW,aAAY;AAGrB,UAAI,CAAC,YAAY;AACf,gBAAQ,IACN;AAAA;AAIJ,UAAI,CAAC,aAAY,UAAU;AACzB,qBAAY,WAAW;AACvB,eAAO;AAAA;AAGT,aAAO,aAAY;AAAA;AAAA;AAjFvB;AAGiB,EAHjB,YAGiB,kBAAwB,IAAI;AAC5B,EAJjB,YAIiB,kBAAwB,IAAI;AAC5B,EALjB,YAKiB,UAAiC;AAEzC,EAPT,YAOS,kBAAkB;AAElB,EATT,YASS,SAA6B;AAE7B,EAXT,YAWS,QAAQ,CAAC,QAAwB;AACtC,QAAI,CAAC,aAAY,QAAQ,MAAM;AAC7B,mBAAY,QAAQ,OAAO;AAAA;AAG7B,iBAAY,QAAQ,QAAQ;AAE5B,WAAO,aAAY,QAAQ;AAAA;AAGtB,EArBT,YAqBS,WAAW,CAAC,QAAwB,aAAY,QAAQ,QAAQ;AAEhE,EAvBT,YAuBS,WAAW,CAA6B,aAAyB;AACtE,QAAI,OAAO,KAAK,UAAU,SAAS,mBAAmB;AACpD,cAAQ,IAAI,aAAY,gBAAgB,QAAQ,YAAY;AAAA;AAG9D,QAAI,OAAO,KAAK,UAAU,SAAS,mBAAmB;AACpD,cAAQ,IAAI,aAAY,gBAAgB,QAAQ,YAAY;AAAA;AAG9D,QAAI,OAAO,KAAK,UAAU,SAAS,WAAW;AAC5C,cAAQ,IAAI,aAAY,gBAAgB,QAAQ,YAAY;AAAA;AAG9D,UAKI,eAJF;AAAA;AAAA,MACA;AAAA,MACA;AAAA,QAEE,IADC,yBACD,IADC;AAAA,MAHH;AAAA,MACA;AAAA,MACA;AAAA;AAIF,QAAI,OAAO,KAAK,cAAc,SAAS,GAAG;AACxC,mBAAY,SAAS,kCAChB,aAAY,SACZ;AAGL,mBAAY,kBAAkB,IAAI;AAAA;AAGpC,WAAO,aAAY;AAAA;AAGd,EAvDT,YAuDS,WAAW,MAAkC;AAClD,WAAO,aAAY,SAAS,iCACvB,aAAY,SADW;AAAA,MAE1B,QAAQ,mBAAK,aAAY;AAAA,MACzB,gBAAgB,aAAY;AAAA,MAC5B,gBAAgB,aAAY;AAAA;AAAA;",
  "names": []
}
